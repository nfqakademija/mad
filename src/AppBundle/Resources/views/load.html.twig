{% extends "::base.html.twig" %}
{% block body %}
    <div class="container">

        <div class="row">
            <div class="title">
                <h1 class="title">Susikurkite savo meniu</h1>
            </div>
        </div>
        <div class="row">
            <div class="menu-table">
                <div class="col s12 m7">
                    <div class="table" id="scroll">

                    </div>
                </div>
                <div class="col m5 s12">
                    <form class="settings">
                        <div class="block">
                            <label class="settings activate">Dienos kalorijų norma</label>
                            <input type="number" class="settings" id="kcal" maxlength="4" value="2225">
                            <p class="value">kcal</p>
                        </div>
                        <div class="block">
                            <label class="settings">Dienų skaičius</label>
                            <select id="dienu-skaicius" style="display: block;">
                                <option value="1">1 diena</option>
                                <option value="2">2 dienos</option>
                                <option value="3">3 dienos</option>
                                <option value="4">4 dienos</option>
                                <option value="5" selected>5 dienos</option>
                                <option value="6">6 dienos</option>
                                <option value="7">7 dienos</option>
                            </select>

                        </div>
                        <div class="block">
                            <label class="settings">Valgymų kartai dienoje</label>
                            <select id="valgymu-skaicius" style="border:1px solid black; display: block;">
                                <option value="1">1 kartas</option>
                                <option value="2">2 kartai</option>
                                <option value="3" selected>3 kartai</option>
                                <option value="4">4 kartai</option>
                                <option value="5">5 kartai</option>
                            </select>
                        </div>
                    </form>

                    <!-- Modal for serching recipes-->
                    <a class="waves-effect waves-light btn" href="#modal1">Add recipe to menu</a>

                    <div id="modal1" class="modal my-modal">
                        <nav class="niam-nav">
                            <div class="nav-wrapper">
                                <form>
                                    <div class="input-field">
                                        <input id="search" type="search">
                                        <label for="search"><i class="material-icons">search</i></label>
                                        <i class="material-icons">close</i>
                                    </div>
                                </form>
                            </div>

                            <button class="modal-close btn-flat" style="position:absolute;top:0;right:0;">Close</button>
                        </nav>
                        <div class="modal-content">

                            <div class="row">
                                <div class="col s10 offset-s1 m6 l4">
                                    <div class="card small">
                                        <div class="card-image">
                                            <img src="{{ asset('images/kulsis2.jpg') }}">
                                        </div>
                                        <div class="card-content">
                                            <p>Kalakutiena su barbeque padažu</p>
                                        </div>
                                        <div class="card-action text-center">
                                            <a class="btn-floating waves-effect waves-light teal"><i class="material-icons">add</i></a>
                                            <span>
                                                <i class="material-icons star">star star star star star</i>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col s10 offset-s1 m6 l4">
                                    <div class="card small">
                                        <div class="card-image">
                                            <img src="{{ asset('images/sparnai3.jpg') }}">
                                        </div>
                                        <div class="card-content">
                                            <p>Vištienos sparneliai marinuoti meduje</p>
                                        </div>
                                        <div class="card-action text-center">
                                            <a class="btn-floating waves-effect waves-light teal"><i class="material-icons">add</i></a>
                                            <span>
                                                <i class="material-icons star">star star star star</i>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col s10 offset-s1 m6 offset-m3 l4">
                                    <div class="card small">
                                        <div class="card-image">
                                            <img src="{{ asset('images/orange-chicken3.jpg') }}">
                                        </div>
                                        <div class="card-content">
                                            <p>Vištiena kinietiškai</p>
                                        </div>
                                        <div class="card-action text-center">
                                            <a class="btn-floating waves-effect waves-light teal"><i class="material-icons">add</i></a>
                                            <span>
                                                <i class="material-icons star">star star star star star</i>
                                            </span>
                                        </div>
                                    </div>
                                </div>


                            </div>
                        </div>
                        <div class="modal-footer">
                        </div>
                    </div>

                    <!-- Modal for info about recipe-->
                    <a class="waves-effect waves-light btn" href="#modal2">Info about recipe</a>

                    <div id="modal2" class="modal my-modal">
                        <button class="modal-close btn-flat" style="position:absolute;top:0;right:0;">Close</button>
                        <div class="modal-content">
                            <div class="row">
                                <div class="col s12">
                                    <h4>Meatballs pomidorų padaže</h4>
                                    <i class="material-icons recipe-star">star star star star star</i>
                                    <hr>
                                </div>
                                <div class="col s10 offset-s1 m6 l4">
                                    <img class="responsive-img" src="{{ asset('images/meatballs.png') }}">
                                </div>
                                <div class="col s6 offset-s3 m6 l8">
                                    <ul style="font-size: 20px;">
                                        <li><i class="material-icons info-ico">av_timer</i> Laikas: <span class="info-value">35 min</span></li>
                                        <li><i class="material-icons info-ico">swap_calls</i> Kalorijos: <span class="info-value">517 kcal</span></li>
                                        <li><i class="material-icons info-ico">perm_identity</i> Porcijos: <span class="info-value">4</span></li>
                                        <li><i class="material-icons info-ico">list</i> Kategorija: <span class="info-value">pagrindinis</span></li>
                                    </ul>
                                        <button class="teal add-big">+</button>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col s10 offset-s1 m5 l5">
                                    <span class="title-underline">Ingridientai</span>
                                    <ul>
                                        <li>100g fermentinio tarkuoto sūrio</li>
                                        <li>400g kiaulienos ir jautienos faršo</li>
                                        <li>1 smulkiai supjaustyto svogūno</li>
                                        <li>1 skardinės konservtuotų pomidorų</li>
                                        <li>25g maltų džiuvėsėlių</li>
                                        <li>2 skiltelės česnako</li>
                                        <li>1 kiaušinio</li>
                                        <li>50ml pieno</li>
                                        <li>0.5 arbatinio šaukštelio pipirų</li>
                                        <li>0.5 arbatinio šaukštelio druskos</li>
                                        <li>0.5 arbatinio šaukštelio maltos saldžiosios paprikos</li>
                                        <li>20ml aliejaus kepimui</li>
                                    </ul>
                                </div>
                                <div class="col s10 offset-s1 m7 l7">
                                    <span class="title-underline">Paruosimas</span>
                                    <p>
                                        Pirmiausia galite pradėti nuo padažo, kurį pasiruošti tiks keptuvė arba puodas ir
                                        tuomet viską reikės supilti į orkaitėje kepti tinkamą indą. Susismulkinam 1 svogūną,
                                        2 skilteles česnako, sumetame į keptuvę kepti. Kai svogūnai apkepa ir česnakas
                                        suminkštėja, sudedame pomidorų tyrę, pagardiname druska, pipirais ir paliekame kepti
                                        apie 7-10 minučių, tuomet jeigu norime galime dar pagardinti šviežiomis
                                        žolelėmis – čiobrelis, bazilikas, kalendra. Supilame į orkaitėje kepti skirtą indą ir
                                        einame ruošti mėsos kukulių.<br><br>
                                        Į faršą sudedame tarkuotą sūrį, paprikos miltelius, kiaušinį, tada
                                        atskirame puodelyje sumaišome džiuvesėlius su pienu, kai džiuvesėliai išbrinksta (1 minutė)
                                        sudedame į faršą. Pagal skonį beriame druskos ir pipirų,  viską gerai sumaišome.
                                        Rankomis formuojame nedidelio dydžio mėsos kukulius ir metame į keptuvę su šlakeliu aliejaus kepti.
                                        <br><br>Apkepus visus mėsos kukulius, sudedam į paruoštą pomidorų tyrės padažą ir dedam į orkaitę
                                        troškintis apie 20-30 minučių. Orkaitė įkaitinta 190 laipsniu ir pasiruošusi darbui.
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                        </div>
                    </div>


                </div>
            </div>
        </div>

        </div>
    </div>

{% endblock %}
{% block javascripts %}
    <script src="http://code.jquery.com/ui/1.8.21/jquery-ui.min.js"></script>
    <script src="{{ asset('js/jquery.ui.touch-punch.min.js') }}"></script>

    <script>

        $(function() {
            $("#dienu-skaicius, #valgymu-skaicius").change(function() {
                $('.table').html('');
                var eilutes = $("#dienu-skaicius").val();
                var stulpeliai= $("#valgymu-skaicius").val();

                var table = $('<table></table>');
                for(i=1; i<=eilutes; i++){
                    for (j=1;j<=stulpeliai;j++){
                        var row = $('<tr>' +
                            '<td>diena '+i+'</td>' +
                            '<td>valgymas '+j+'</td>' +
                            '<td><img src="http://www.novum.lt/pics/recipes/kalakutienos_kotletai.jpg" class="menu-img"></td>' +
                            '<td><p class="menu-name">Kotletai su mesa</p></td>' +
                            '<td><input type="number" class="portion" value="4"> <label class="portion">porcijos</label></td>' +
                            '<td><button class="action">change</button></td>' +
                            '<td><button class="action">delete</button></td></tr>');

                        table.append(row);
                    }

                }
                $('.table').append(table);

            });
        });

        (function($) {
            $(document).ready(function() {
                var eilutes = $("#dienu-skaicius").val();
                var stulpeliai= $("#valgymu-skaicius").val();
                var table = $('<table></table>');
                for(i=1; i<=eilutes; i++){
                    for (j=1;j<=stulpeliai;j++){
                        var row = $('<tr>' +
                            '<td>diena '+i+'</td>' +
                            '<td>valgymas '+j+'</td>' +
                            '<td><img src="http://www.novum.lt/pics/recipes/kalakutienos_kotletai.jpg" class="menu-img"></td>' +
                            '<td><p class="menu-name">Kotletai su mesa</p></td>' +
                            '<td><input type="number" class="portion" value="4"> <label class="portion">porcijos</label></td>' +
                            '<td><button class="action">change</button></td>' +
                            '<td><button class="action">delete</button></td></tr>');

                        table.append(row);
                    }

                }
                $('.table').append(table);

            });
        })(jQuery);

    </script>

    <script>
        $(".button-collapse").sideNav();
        $('#sort').sortable();
        $('#sort1').sortable();
    </script>
    <script>
        $(function() {
            $( "#sort, #sort1" ).sortable({
                connectWith: ".connected"
            }).disableSelection();
        });

    </script>
    <script>
        $("ul").on("click", "button", function(e) {
            e.preventDefault();
            $(this).parent().remove();
        });
    </script>
    <script>
        var myInput = document.getElementById('sk');
        myInput.oninput = function () {
            if (this.value.length > 1) {
                this.value = this.value.slice(0,1);
            }
        };
        var myInput = document.getElementById('sk1');
        myInput.oninput = function () {
            if (this.value.length > 1) {
                this.value = this.value.slice(0,1);
            }
        };
        var myInput = document.getElementById('kcal');
        myInput.oninput = function () {
            if (this.value.length > 4) {
                this.value = this.value.slice(0,4);
            }
        };
    </script>
    <script>
        $(document).ready(function(){
            $('.modal').modal();
        });
        $('#modal1').modal('open');
    </script>
{% endblock %}